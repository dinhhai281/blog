{"version":3,"sources":["webpack:///./src/components/blog-item.tsx","webpack:///./src/pages/index.tsx"],"names":["BlogItem","source","frontmatter","excerpt","useIntl","locale","formatMessage","className","data-testid","to","path","title","dayjs","date","format","id","query","Home","data","useEffect","changeLocale","handleAvatarClick","useCallback","window","open","site","siteMetadata","githubUrl","src","allGithubData","edges","node","viewer","avatarUrl","onClick","alt","href","rel","target","name","allMarkdownRemark","sort","a","b","map","Date","parse","reduce","acc","cur","key"],"mappings":"8OAsCeA,EArBqB,SAAC,GAAyC,QAAvCC,OAAUC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,QAAgB,EAC1CC,oBAA1BC,EADoE,EACpEA,OAAQC,EAD4D,EAC5DA,cAChB,OACE,yBAAKC,UAAU,oBACb,kBAAC,OAAD,CACEC,cAAY,QACZD,UAAU,kDACVE,GAAE,IAAMJ,EAASH,EAAYQ,MAE5BR,EAAYS,OAEf,yBAAKJ,UAAU,yCACZK,IAAMV,EAAYW,MAChBR,OAAOA,GACPS,OAAOR,EAAc,CAAES,GAAI,kBAEhC,yBAAKR,UAAU,QAAQJ,K,YCqEhBa,GAFEC,UArDa,SAAC,GAAa,IAAXC,EAAW,EAAXA,KAAW,EACNd,oBAA1BE,EADgC,EAChCA,cAAeD,EADiB,EACjBA,OACvBc,qBAAU,WACRC,uBAAaf,KACZ,CAACA,IAEJ,IAAMgB,EAAoBC,uBAAY,WACpCC,OAAOC,KAAKN,EAAKO,KAAKC,aAAaC,UAAW,YAC7C,IAEH,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,MACA,6BAASpB,UAAU,QACjB,yBAAKA,UAAU,0BACb,yBACEA,UAAU,gEACVqB,IAAKV,EAAKW,cAAcC,MAAM,GAAGC,KAAKb,KAAKc,OAAOC,UAClDC,QAASb,EACTc,IAAI,YAGR,yBAAK5B,UAAU,qCACb,0BAAMA,UAAU,sBACbD,EAAc,CAAES,GAAI,eADvB,IAGE,uBACEqB,KAAMlB,EAAKO,KAAKC,aAAaC,UAC7BU,IAAI,aACJC,OAAO,SACP/B,UAAU,2BAETW,EAAKW,cAAcC,MAAM,GAAGC,KAAKb,KAAKc,OAAOO,OAGlD,0BAAMhC,UAAU,sBAAsBD,EAAc,CAAES,GAAI,kBAG9D,6BAASR,UAAU,yBAChBW,EAAKsB,kBAAkBV,MACrBW,MAAK,SAACC,EAAGC,GAAJ,MACJ,CAACD,EAAEX,KAAK7B,YAAYW,KAAM8B,EAAEZ,KAAK7B,YAAYW,MAAM+B,IAAIC,KAAKC,OAAOC,QAAO,SAACC,EAAKC,GAAN,OAAcA,EAAMD,QAE/FJ,KAAI,gBAAGb,EAAH,EAAGA,KAAH,OACH,yBAAKmB,IAAKnB,EAAKhB,GAAIR,UAAU,OAAOC,cAAY,QAC9C,kBAAC,EAAD,CAAUP,OAAQ8B,WAUX","file":"component---src-pages-index-tsx-899a021bd417d30a6d44.js","sourcesContent":["import React, { FC } from 'react';\nimport { Link } from 'gatsby';\nimport { useIntl } from 'gatsby-plugin-intl';\nimport dayjs from 'dayjs';\n\nexport interface BlogItemProps {\n  source: {\n    id: string;\n    frontmatter: {\n      date: string;\n      path: string;\n      title: string;\n    };\n    excerpt: string;\n  };\n}\n\nconst BlogItem: FC<BlogItemProps> = ({ source: { frontmatter, excerpt } }) => {\n  const { locale, formatMessage } = useIntl();\n  return (\n    <div className='grid grid-cols-1'>\n      <Link\n        data-testid='title'\n        className='text-pink-700 text-xl md:text-2xl font-semibold'\n        to={`/${locale}${frontmatter.path}`}\n      >\n        {frontmatter.title}\n      </Link>\n      <div className='text-sm text-pink-700 text-opacity-75'>\n        {dayjs(frontmatter.date)\n          .locale(locale)\n          .format(formatMessage({ id: 'date_format' }))}\n      </div>\n      <div className='pt-3'>{excerpt}</div>\n    </div>\n  );\n};\n\nexport default BlogItem;\n","import Layout from '@components/layout';\nimport { graphql } from 'gatsby';\nimport { changeLocale, useIntl } from 'gatsby-plugin-intl';\nimport React, { FC, useEffect, useCallback } from 'react';\nimport BlogItem from '@components/blog-item';\nimport SEO from '@components/seo';\n\nexport interface HomeProps {\n  data: {\n    site: {\n      siteMetadata: {\n        author: string;\n        githubUrl: string;\n      };\n    };\n    allMarkdownRemark: {\n      edges: {\n        node: {\n          id: string;\n          excerpt: string;\n          frontmatter: {\n            date: string;\n            path: string;\n            title: string;\n          };\n        };\n      }[];\n    };\n    allGithubData: {\n      edges: {\n        node: {\n          data: {\n            viewer: {\n              name: string;\n              avatarUrl: string;\n            };\n          };\n        };\n      }[];\n    };\n  };\n}\n\ntype SiteData = Pick<HomeProps['data'], 'site'>['site'];\ntype AllMarkdownRemark = Pick<HomeProps['data'], 'allMarkdownRemark'>['allMarkdownRemark'];\ntype AllGithubData = Pick<HomeProps['data'], 'allGithubData'>['allGithubData'];\n\nconst Home: FC<HomeProps> = ({ data }) => {\n  const { formatMessage, locale } = useIntl();\n  useEffect(() => {\n    changeLocale(locale);\n  }, [locale]);\n\n  const handleAvatarClick = useCallback(() => {\n    window.open(data.site.siteMetadata.githubUrl, '_blank');\n  }, []);\n\n  return (\n    <Layout>\n      <SEO />\n      <section className='flex'>\n        <div className='flex items-center pr-2'>\n          <img\n            className='p-0 m-0 w-10 h-10 md:w-12 md:h-12 rounded-full cursor-pointer'\n            src={data.allGithubData.edges[0].node.data.viewer.avatarUrl}\n            onClick={handleAvatarClick}\n            alt='avatar'\n          />\n        </div>\n        <div className='pl-2 grid grid-cols-1 grid-rows-2'>\n          <span className='text-xs md:text-sm'>\n            {formatMessage({ id: 'headline_1' })}\n            &nbsp;\n            <a\n              href={data.site.siteMetadata.githubUrl}\n              rel='noreferrer'\n              target='_blank'\n              className='underline text-pink-700'\n            >\n              {data.allGithubData.edges[0].node.data.viewer.name}\n            </a>\n          </span>\n          <span className='text-xs md:text-sm'>{formatMessage({ id: 'headline_2' })}</span>\n        </div>\n      </section>\n      <section className='grid grid-cols-1 mt-6'>\n        {data.allMarkdownRemark.edges\n          .sort((a, b) =>\n            [a.node.frontmatter.date, b.node.frontmatter.date].map(Date.parse).reduce((acc, cur) => cur - acc)\n          )\n          .map(({ node }) => (\n            <div key={node.id} className='mb-6' data-testid='post'>\n              <BlogItem source={node} />\n            </div>\n          ))}\n      </section>\n    </Layout>\n  );\n};\n\nexport default Home;\n\nexport const query = graphql`\n  query {\n    allGithubData {\n      edges {\n        node {\n          data {\n            viewer {\n              avatarUrl\n              email\n              login\n              name\n            }\n          }\n        }\n      }\n    }\n\n    site {\n      siteMetadata {\n        author\n        githubUrl\n      }\n    }\n\n    allMarkdownRemark(filter: {}) {\n      edges {\n        node {\n          id\n          frontmatter {\n            date\n            path\n            title\n          }\n          excerpt\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}